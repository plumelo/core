# Settings
set main-view = \
  line-number:no,interval=5 \
  id:yes \
  date:relative-compact \
  author:email-user \
  commit-title:yes,graph,refs,overflow=no
set refs-view = \
  line-number:no \
  id:no \
  date:relative-compact \
  author:full ref commit-title

set blame-options              = -C -C -C
set show-notes                 = yes
set show-changes               = yes
set status-show-untracked-dirs = yes
set refresh-mode = auto
set line-graphics              = utf-8

# unbind g
bind generic g none

# grep
bind generic gg view-grep

# branch
bind refs gn  !@git branch "%(prompt Enter branch name: )" %(branch)
bind main gn  !@git branch "%(prompt Enter branch name: )" %(commit)
bind main gco ?git checkout %(commit)
bind main gcb ?git checkout %(branch)
bind refs gd  ?git branch -d %(branch)
bind refs gD  !?git push %(remote) --delete %(branch)
bind main gD  !?git push %(remote) --delete %(branch)

#Fetch
bind generic gf ?git fetch --all --prune
bind refs gf ?git fetch %(remote) %(branch):%(branch)

# reset
bind main grh ?git reset --hard %(commit)
bind refs grh ?git reset --hard %(branch)
bind main grs ?git reset --soft %(commit)

# rebase interactive
bind main grb ?git rebase -i %(branch)
bind main gri ?git rebase -i %(commit)
bind refs grb ?git rebase -i %(branch)
bind main gra ?git rebase --abort
bind refs gra ?git rebase --abort
bind main grc ?git rebase --continue
bind main grk ?git rebase --skip

# push
bind generic gps ?git push -u %(remote) %(repo:head)
bind status  gps ?git push -u %(remote) %(repo:head)
bind main    gpf !?git push -f %(remote) %(repo:head)
bind main    gpp !?git push
bind status  gpf !?git push -f %(remote) %(repo:head)

# pull without merge
bind main gpu ?git pull --ff-only
bind main gpr ?git pull --rebase --autostash

# commit
bind main   gC  ?git cherry-pick %(commit)
bind main   gCn ?git cherry-pick -n %(commit)
bind status gca ?git commit --amend
bind status gcn ?git commit --amend --no-edit

# stash
bind main  gst ?git stash
bind stash gsa ?git stash apply %(stash)
bind stash gsp ?git stash pop %(stash)
bind stash gsd ?git stash drop %(stash)

# tag the selected commit
bind main T !?@git tag %(prompt) %(commit)

# copy sha to clipboard
bind generic Y !sh -c "echo -n %(commit) | xclip -selection c && echo Copied %(commit) to clipboard"

# COLORS

color date      default default

# general
color   default                 15      235
color   cursor                  default 241
color   title-focus             default 237
color   title-blur              default 237
color   delimiter               default default
color   author                  156     default
color   date                    81      default
color   line-number             221     default
color   mode                    255     default

# main
color   main-tag                213     default     bold
color   main-local-tag          213     default
color   main-remote             221     default
color   main-replace            81      default
color   main-tracked            221     default     bold
color   main-ref                81      default
color   main-head               213     default     bold
color   graph-commit            226     default

# Diff   colors
color   diff_add                10      default
color   diff_add2               10      default
color   diff_del                196     default
color   diff_del2               196     default
color   diff-header             221     default
color   diff-index              81      default
color   diff-chunk              213     default
color   diff_oldmode            221     default
color   diff_newmode            221     default
color   'deleted file mode'     221     default
color   'copy from'             223     default
color   'copy to'               221     default
color   'rename from'           221     default
color   'rename to'             221     default
color   diff_similarity         221     default
color   'dissimilarity'         221     default
color   'diff_tree'             81      default
color   diff-stat               81      default
color   "Reported-by:"          156     default

color   'Author:'               156     default
color   'Commit:'               213     default
color   'AuthorDate:'           221     default
color   'CommitDate:'           221     default
color   'Date:'                 81      default
color   pp_refs                 213     default

# status
color   status.header           221     default
color   status.section          81      default
color   stat_staged             10     default
color   stat_unstaged           11     default
color   stat_untracked          213     default

# raw commit header
color   commit                  156     default
color   committer               213     default

# commit message
color   'Signed-off-by'         221     default
color   'Acked-by'              221     default
color   'Tested-by'             221     default
color   'Reviewed-by'           221     default

# tree
color   tree.directory         221     default
